import{s as z,e as h,a as I,c as g,b as E,f as k,h as L,d as c,j as f,i as K,k as u,w as ie,l as ce,n as ee,K as pe,F,t as he,p as ge,O as ve,q as $e,E as re,g as _e,m as we,o as be}from"../chunks/scheduler.BgxxztVZ.js";import{S as Z,i as q,c as S,a as j,m as N,t as V,b as O,d as U,g as ye,f as Ee,e as Ce}from"../chunks/index.ecYRsrkj.js";import{B as J}from"../chunks/button.BXLNZTmq.js";import{C as H,i as X,c as te,T as Ie}from"../chunks/topbar.CzzfQ-n2.js";import{e as oe}from"../chunks/each.D6YF6ztN.js";import{g as ue}from"../chunks/entry.5aApM5bE.js";import{a as ke}from"../chunks/auth-store.C82-5gHr.js";import{I as xe}from"../chunks/input-field-with-validation.Ckb5w0rG.js";import{A as Be}from"../chunks/arrow-left.BatAqhcd.js";import{R as Ve}from"../chunks/arrow-right.EiUvAGhj.js";const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAABFklEQVRoBe2WvQ3CQAyF7ZuABtEyAEwEEjOwQdiAFZBgIhiAErosQAzXhCuwHOlig8S7yokV/3zvIj0iHBAAARAAgX8mwF7LT1eXTUqyJ+KWO2pup8XBo1fyKJprpkQNCU1IZC6cF/E5bgvkwYuRJ0U8aui3wKhj6sWwgM4mJgMFYjjrXaCAziYmAwViOOtdoIDOJiZjutHeVWZjFnmYr0NcrHmFelcZOXzuNdDFmguQdLHkS1DMbfn4KTYXYKYtveT89LHrO6aWH93O6mH+A1YBLT9bn6XM3Y9Ll16mAuUQvxhjgW+rAgWgQCUBXKFKgNWfQ4FqhJUFoIAOUN5O0tEMuinQu9iBrlIHgQwIgAAIgAAI6ASed2YzQiJDuFQAAAAASUVORK5CYII=";function Re(n){let s,l="Add Recipient";return{c(){s=h("span"),s.textContent=l,this.h()},l(e){s=g(e,"SPAN",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-1lewpl6"&&(s.textContent=l),this.h()},h(){f(s,"class","hidden sm:inline sm:ml-2 text-blue-700")},m(e,t){K(e,s,t)},p:ee,d(e){e&&c(s)}}}function Oe(n){let s,l,e,t,i,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.9" stroke="#667085" class="size-12"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"></path></svg>',A,p,d,v,$;return p=new J({props:{handleClick:n[1],icon:De,text:"",type:"secondary",$$slots:{default:[Re]},$$scope:{ctx:n}}}),{c(){s=h("div"),l=h("div"),e=h("input"),t=I(),i=h("button"),i.innerHTML=a,A=I(),S(p.$$.fragment),this.h()},l(o){s=g(o,"DIV",{class:!0});var m=E(s);l=g(m,"DIV",{class:!0});var b=E(l);e=g(b,"INPUT",{class:!0,type:!0,placeholder:!0}),t=k(b),i=g(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),L(i)!=="svelte-dj1wjy"&&(i.innerHTML=a),b.forEach(c),A=k(m),j(p.$$.fragment,m),m.forEach(c),this.h()},h(){f(e,"class","border border-slate-300 pl-9 p-2 rounded-xl w-full sm:w-96"),f(e,"type","email"),f(e,"placeholder","johndoe@email.com"),f(i,"class","absolute cursor-default h-5 w-5 left-3 top-3 py-2 flex items-center bg-white"),f(i,"type","button"),f(l,"class","relative"),f(s,"class","flex justify-center gap-2 px-4")},m(o,m){K(o,s,m),u(s,l),u(l,e),ie(e,n[0]),u(l,t),u(l,i),u(s,A),N(p,s,null),d=!0,v||($=ce(e,"input",n[2]),v=!0)},p(o,[m]){m&1&&e.value!==o[0]&&ie(e,o[0]);const b={};m&16&&(b.$$scope={dirty:m,ctx:o}),p.$set(b)},i(o){d||(V(p.$$.fragment,o),d=!0)},o(o){O(p.$$.fragment,o),d=!1},d(o){o&&c(s),U(p),v=!1,$()}}}function Ke(n,s,l){let e="",t=()=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(H.update(A=>A.includes(e)?A:[...A,e]),l(0,e="")):setTimeout(()=>{},3e3)};function i(){e=this.value,l(0,e)}return[e,t,i]}class Te extends Z{constructor(s){super(),q(this,s,Ke,Oe,z,{})}}const Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAABS0lEQVRIDe1UQW7CQAy04S/lhPqFfKBRhXpKOfATtj/oD3op5ARSeUH7A9RcCjdest2JsEhi7yYcKvWApZWTWXvG63VCdLN/2YGHYrXAGlpcKn7UJUEwM79h5UW57O533/N5uZR4qyglMKYGxN6lREBO3jsRbeWewbFsiv+pNvvJ/YyJOKsxpmwyfaJDtfmSGPgueRB6+VgXr80YPCsBgIfv7WdKxCLfrZ8dcrsWKo1bPl858ny5B8+u7mCjLag8Rg7mpAAClAhAsR5yhJktknx41S7ZHECO0MbISKblR16jFqajek+gLlQ4ItMl2+KTAoo8tCWcOYwrZzXBAJGogEWOaVF30iNiCsTI5djXiCiB+l9EdPkiI9NiidxNZ6djtd1LIfBqilr/kwi5EOzew9fL4V7O1soV0PKPRbnAsvYs7Np4i+OG/V0HfgFKea4eGDDUgQAAAABJRU5ErkJggg==";function Ae(n,s,l){const e=n.slice();return e[2]=s[l],e}function de(n){let s,l,e=n[2]+"",t,i,a,A=`<img class="h-4" src="${Me}" alt="Remove Icon"/>`,p,d,v;return{c(){s=h("div"),l=h("div"),t=he(e),i=I(),a=h("button"),a.innerHTML=A,p=I(),this.h()},l($){s=g($,"DIV",{class:!0});var o=E(s);l=g(o,"DIV",{class:!0});var m=E(l);t=ge(m,e),m.forEach(c),i=k(o),a=g(o,"BUTTON",{"data-svelte-h":!0}),L(a)!=="svelte-wo2xov"&&(a.innerHTML=A),p=k(o),o.forEach(c),this.h()},h(){f(l,"class","text-xs"),f(s,"class","flex align-middle p-2 gap-1 bg-[#F8F9FC] rounded-md")},m($,o){K($,s,o),u(s,l),u(l,t),u(s,i),u(s,a),u(s,p),d||(v=ce(a,"click",function(){ve(n[1](n[2]))&&n[1](n[2]).apply(this,arguments)}),d=!0)},p($,o){n=$,o&1&&e!==(e=n[2]+"")&&$e(t,e)},d($){$&&c(s),d=!1,v()}}}function Qe(n){let s,l=oe(n[0]),e=[];for(let t=0;t<l.length;t+=1)e[t]=de(Ae(n,l,t));return{c(){s=h("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){s=g(t,"DIV",{class:!0});var i=E(s);for(let a=0;a<e.length;a+=1)e[a].l(i);i.forEach(c),this.h()},h(){f(s,"class","flex py-8 flex-wrap justify-center self-center max-w-xl gap-2")},m(t,i){K(t,s,i);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,null)},p(t,[i]){if(i&3){l=oe(t[0]);let a;for(a=0;a<l.length;a+=1){const A=Ae(t,l,a);e[a]?e[a].p(A,i):(e[a]=de(A),e[a].c(),e[a].m(s,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},i:ee,o:ee,d(t){t&&c(s),pe(e,t)}}}function Se(n,s,l){let e;return F(n,H,i=>l(0,e=i)),[e,i=>{H.update(a=>a.filter(A=>A!=i))}]}class je extends Z{constructor(s){super(),q(this,s,Se,Qe,z,{})}}function fe(n){let s,l,e,t,i,a="Would you like to receive a copy of the summary?",A,p,d="Add your email to receive the summary.",v,$,o,m,b,D,x,W='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.7" stroke="#667085" class="size-12"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"></path></svg>',T,C,R,r,w,y,M,Y;function me(_){n[6](_)}let se={isWithIcon:!0,label:"Email Address",placeholder:"you@kmp.com",validationMessage:n[1],validationActive:n[2]};return n[0]!==void 0&&(se.value=n[0]),m=new xe({props:se}),_e.push(()=>Ce(m,"value",me)),r=new J({props:{type:"secondary",text:"No, thanks",fullWidth:!0,handleClick:n[4]}}),M=new J({props:{type:"primary",text:"Add myself",fullWidth:!0,handleClick:n[5]}}),{c(){s=h("div"),l=I(),e=h("div"),t=h("div"),i=h("div"),i.textContent=a,A=I(),p=h("div"),p.textContent=d,v=I(),$=h("div"),o=h("div"),S(m.$$.fragment),D=I(),x=h("button"),x.innerHTML=W,T=I(),C=h("div"),R=h("div"),S(r.$$.fragment),w=I(),y=h("div"),S(M.$$.fragment),this.h()},l(_){s=g(_,"DIV",{class:!0}),E(s).forEach(c),l=k(_),e=g(_,"DIV",{class:!0});var Q=E(e);t=g(Q,"DIV",{class:!0});var B=E(t);i=g(B,"DIV",{class:!0,"data-svelte-h":!0}),L(i)!=="svelte-1he1a91"&&(i.textContent=a),A=k(B),p=g(B,"DIV",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-13uw1ao"&&(p.textContent=d),v=k(B),$=g(B,"DIV",{class:!0});var le=E($);o=g(le,"DIV",{class:!0});var P=E(o);j(m.$$.fragment,P),D=k(P),x=g(P,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),L(x)!=="svelte-93wodu"&&(x.innerHTML=W),P.forEach(c),le.forEach(c),T=k(B),C=g(B,"DIV",{class:!0});var G=E(C);R=g(G,"DIV",{class:!0});var ae=E(R);j(r.$$.fragment,ae),ae.forEach(c),w=k(G),y=g(G,"DIV",{class:!0});var ne=E(y);j(M.$$.fragment,ne),ne.forEach(c),G.forEach(c),B.forEach(c),Q.forEach(c),this.h()},h(){f(s,"class","fixed inset-0 bg-black bg-opacity-50 z-40"),f(i,"class","h2 text-center text-gray-900 font-semibold p-2"),f(p,"class","h3 text-center text-gray-500 text-base p-1"),f(x,"class","absolute cursor-default h-5 w-5 left-3 top-9 py-2 flex items-center bg-white"),f(x,"type","button"),f(o,"class","relative"),f($,"class","w-full px-4 py-2"),f(R,"class","w-5/12 pl-4"),f(y,"class","w-5/12 pr-4"),f(C,"class","flex shrink justify-between pb-1 pt-0 items-center"),f(t,"class","p-4 w-full max-w-md bg-white border rounded-xl"),f(e,"class","fixed inset-0 flex items-center justify-center z-50")},m(_,Q){K(_,s,Q),K(_,l,Q),K(_,e,Q),u(e,t),u(t,i),u(t,A),u(t,p),u(t,v),u(t,$),u($,o),N(m,o,null),u(o,D),u(o,x),u(t,T),u(t,C),u(C,R),N(r,R,null),u(C,w),u(C,y),N(M,y,null),Y=!0},p(_,Q){const B={};Q&2&&(B.validationMessage=_[1]),Q&4&&(B.validationActive=_[2]),!b&&Q&1&&(b=!0,B.value=_[0],we(()=>b=!1)),m.$set(B)},i(_){Y||(V(m.$$.fragment,_),V(r.$$.fragment,_),V(M.$$.fragment,_),Y=!0)},o(_){O(m.$$.fragment,_),O(r.$$.fragment,_),O(M.$$.fragment,_),Y=!1},d(_){_&&(c(s),c(l),c(e)),U(m),U(r),U(M)}}}function Ne(n){let s,l,e=n[3]&&fe(n);return{c(){e&&e.c(),s=re()},l(t){e&&e.l(t),s=re()},m(t,i){e&&e.m(t,i),K(t,s,i),l=!0},p(t,[i]){t[3]?e?(e.p(t,i),i&8&&V(e,1)):(e=fe(t),e.c(),V(e,1),e.m(s.parentNode,s)):e&&(ye(),O(e,1,1,()=>{e=null}),Ee())},i(t){l||(V(e),l=!0)},o(t){O(e),l=!1},d(t){t&&c(s),e&&e.d(t)}}}function Ue(n,s,l){let e;F(n,X,v=>l(3,e=v));let t="",i="",a=!1,A=()=>{te.set(!0),X.set(!1)},p=()=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?(H.update($=>[...$,t]),l(0,t=""),X.set(!1),te.set(!0)):(l(1,i="Please enter a valid email address."),l(2,a=!0))};function d(v){t=v,l(0,t)}return[t,i,a,e,A,p,d]}class We extends Z{constructor(s){super(),q(this,s,Ue,Ne,z,{})}}function Ye(n){let s,l,e,t,i,a,A,p='<h1>Add Recipients</h1> <div class="subheading">Add the emails you would like to send the summary to.</div>',d,v,$,o,m,b,D,x,W,T,C,R;return s=new We({}),t=new Ie({}),v=new Te({}),o=new je({}),D=new J({props:{handleClick:n[3],icon:Ve,iconPos:"right",text:"Send Email",disabled:n[2].length==0&&n[0]==!0,type:n[2].length==0&&n[0]==!0?"disabled":"primary"}}),C=new J({props:{handleClick:n[4],icon:Be,text:"View Summary"}}),{c(){S(s.$$.fragment),l=I(),e=h("div"),S(t.$$.fragment),i=I(),a=h("div"),A=h("div"),A.innerHTML=p,d=I(),S(v.$$.fragment),$=I(),S(o.$$.fragment),m=I(),b=h("div"),S(D.$$.fragment),W=I(),T=h("div"),S(C.$$.fragment),this.h()},l(r){j(s.$$.fragment,r),l=k(r),e=g(r,"DIV",{class:!0});var w=E(e);j(t.$$.fragment,w),i=k(w),a=g(w,"DIV",{class:!0});var y=E(a);A=g(y,"DIV",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-kq9uly"&&(A.innerHTML=p),d=k(y),j(v.$$.fragment,y),$=k(y),j(o.$$.fragment,y),y.forEach(c),m=k(w),b=g(w,"DIV",{class:!0});var M=E(b);j(D.$$.fragment,M),M.forEach(c),w.forEach(c),W=k(r),T=g(r,"DIV",{class:!0});var Y=E(T);j(C.$$.fragment,Y),Y.forEach(c),this.h()},h(){f(A,"class","flex flex-col p-12 gap-4"),f(a,"class","flex flex-col text-center"),f(b,"class","absolute bottom-8 right-8"),f(e,"class",x=n[1]?"opacity-50":""),f(T,"class","absolute bottom-8 left-8")},m(r,w){N(s,r,w),K(r,l,w),K(r,e,w),N(t,e,null),u(e,i),u(e,a),u(a,A),u(a,d),N(v,a,null),u(a,$),N(o,a,null),u(e,m),u(e,b),N(D,b,null),K(r,W,w),K(r,T,w),N(C,T,null),R=!0},p(r,[w]){const y={};w&5&&(y.disabled=r[2].length==0&&r[0]==!0),w&5&&(y.type=r[2].length==0&&r[0]==!0?"disabled":"primary"),D.$set(y),(!R||w&2&&x!==(x=r[1]?"opacity-50":""))&&f(e,"class",x)},i(r){R||(V(s.$$.fragment,r),V(t.$$.fragment,r),V(v.$$.fragment,r),V(o.$$.fragment,r),V(D.$$.fragment,r),V(C.$$.fragment,r),R=!0)},o(r){O(s.$$.fragment,r),O(t.$$.fragment,r),O(v.$$.fragment,r),O(o.$$.fragment,r),O(D.$$.fragment,r),O(C.$$.fragment,r),R=!1},d(r){r&&(c(l),c(e),c(W),c(T)),U(s,r),U(t),U(v),U(o),U(D),U(C)}}}function Le(n,s,l){let e,t,i,a;return F(n,te,d=>l(0,e=d)),F(n,ke,d=>l(5,t=d)),F(n,X,d=>l(1,i=d)),F(n,H,d=>l(2,a=d)),be(()=>{t.loggedIn==!0&&H.update(d=>d.includes(t.email)?d:[...d,t.email])}),[e,i,a,()=>{t.email.length==0&&!e?X.set(!0):ue("/send_summary")},()=>{ue("/generate_summary")}]}class tt extends Z{constructor(s){super(),q(this,s,Le,Ye,z,{})}}export{tt as component};
